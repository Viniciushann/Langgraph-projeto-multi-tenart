# ==============================================
# WHATSAPP BOT - VARIÁVEIS DE AMBIENTE
# ==============================================
# IMPORTANTE: Copie este arquivo para .env e preencha com seus valores reais
# Nunca commite o arquivo .env ao Git!

# ==============================================
# OPENAI
# ==============================================
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# ==============================================
# SUPABASE
# ==============================================
# Obtenha em: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key-here
SUPABASE_SERVICE_KEY=your-supabase-service-role-key-here

# ==============================================
# REDIS (Cache e Fila)
# ==============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=10

# ==============================================
# WHATSAPP API (Evolution API)
# ==============================================
WHATSAPP_API_URL=https://api.whatsapp.com/v1
WHATSAPP_API_KEY=your-whatsapp-api-key-here
WHATSAPP_INSTANCE=your-instance-id-here
WHATSAPP_PHONE_NUMBER=+5511999999999
WHATSAPP_WEBHOOK_SECRET=your-webhook-secret-here
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token-here

# ==============================================
# POSTGRES (Memória LangGraph)
# ==============================================
# Formato: postgresql://usuario:senha@host:porta/database
POSTGRES_CONNECTION_STRING=postgresql://user:password@localhost:5432/whatsapp_bot
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=whatsapp_bot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password

# ==============================================
# GOOGLE CALENDAR
# ==============================================
GOOGLE_CALENDAR_CREDENTIALS_FILE=credentials.json
GOOGLE_CALENDAR_TOKEN_FILE=token.json
GOOGLE_CALENDAR_TIMEZONE=America/Sao_Paulo
GOOGLE_CALENDAR_ID=centrooestedrywalldry@gmail.com

# ==============================================
# CONFIGURAÇÃO DE NOTIFICAÇÃO AO TÉCNICO
# ==============================================
# Telefone principal do técnico (OBRIGATÓRIO)
# Formato: Código país + DDD + Número (SEM espaços, parênteses ou hífens)
#
# IMPORTANTE:
# - Números antigos (pré-2016): 12 dígitos (ex: 55628540075)
#   Formato: 55 (Brasil) + 62 (DDD) + 8540-0075 (8 dígitos)
# - Números novos (pós-2016): 13 dígitos com 9º dígito (ex: 556298540075)
#   Formato: 55 (Brasil) + 62 (DDD) + 9 + 8540-0075 (9 dígitos)
#
# O número abaixo é um número antigo (pré-2016) SEM o 9º dígito adicional
TELEFONE_TECNICO=55628540075

# Telefone backup (OPCIONAL)
# Usado se o principal falhar - Este é um número novo com 9º dígito
TELEFONE_TECNICO_BACKUP=556281091167

# ==============================================
# LANGCHAIN
# ==============================================
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=
LANGCHAIN_PROJECT=whatsapp-bot
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# ==============================================
# APPLICATION
# ==============================================
APP_ENV=development
APP_DEBUG=true
APP_LOG_LEVEL=INFO
APP_PORT=8000
APP_HOST=0.0.0.0
APP_NAME=WhatsApp Bot

# ==============================================
# AGENT CONFIGURATION
# ==============================================
AGENT_MODEL=gpt-4-turbo-preview
AGENT_TEMPERATURE=0.7
AGENT_MAX_TOKENS=2000
AGENT_TIMEOUT=120
AGENT_MAX_ITERATIONS=10

# ==============================================
# TIMEOUTS E LIMITES
# ==============================================
REQUEST_TIMEOUT=30
MAX_RETRIES=3
RATE_LIMIT_PER_MINUTE=60
MESSAGE_GROUP_DELAY=13
MAX_FRAGMENT_SIZE=300

# ==============================================
# FEATURES FLAGS
# ==============================================
ENABLE_AUDIO_PROCESSING=true
ENABLE_IMAGE_PROCESSING=true
ENABLE_CALENDAR_INTEGRATION=true
ENABLE_MEMORY_PERSISTENCE=true
ENABLE_LANGCHAIN_TRACING=false

# ==============================================
# WEBHOOK
# ==============================================
WEBHOOK_PATH=/webhook
WEBHOOK_HEALTH_PATH=/health

# ==============================================
# QUEUE CONFIGURATION
# ==============================================
QUEUE_NAME=whatsapp_messages
QUEUE_PROCESSING_DELAY=1
MAX_QUEUE_SIZE=1000
QUEUE_CONSUMER_TIMEOUT=300

# ==============================================
# SEGURANÇA
# ==============================================
# Gere com: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
ALLOWED_HOSTS=localhost,127.0.0.1
